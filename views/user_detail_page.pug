extends layout

block content
  div(class="mt-4 d-flex flex-column align-items-stretch justify-content-center container" style="max-width: 900px")
    h3(class="text-center mt-2 mb-0") #{userToLookAt.username}
    if user
      if userToLookAt._id.toString()===user._id.toString()
        p(class="text-center mb-1") (You)
      else 
        p(class="text-center mb-1") (#{userToLookAt.first_name} #{userToLookAt.last_name})
    else 
      p(class="text-center mb-1") &nbsp;
    p(class="text-center") #{userToLookAt.member_status} Member
    hr(class='mt-0')
    
    if user && userToLookAt._id.toString()===user._id.toString()
      h6(class="text-center") Your posts
    else 
      h6(class="text-center") Posts by #{userToLookAt.username}

    
    ul(class="list-group mt-2 mb-3")
      each post in posts 
        a(href=post.url class="list-group-item list-group-item-action") 
          p #{post.date_of_post_formatted }
          p(class="h5") #{post.title }
          p(class="mb-0") #{post.comments.length } Comments

      else 
        if user && userToLookAt._id.toString()===user._id.toString()
          p(class="text-center") You have not made any posts yet.
            span &nbsp;
            a(class="link-primary" href="/post/create") Create one
            span .
        else 
          p(class="text-center") There are no posts by #{userToLookAt.username} yet.
        